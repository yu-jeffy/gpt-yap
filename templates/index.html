<!DOCTYPE html>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f0f2f5; /* Light pastel background */
        color: #333;
        margin: 0;
        padding: 20px;
    }
    #toggleMicrophone, #sendText {
        background-color: #78909c; /* Pastel button color */
        border: none;
        color: white;
        padding: 10px 20px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 20px;
    }
    #textInput {
        width: 100%;
        height: 100px; /* Larger text area */
        margin-top: 10px;
        padding: 10px;
        box-sizing: border-box;
        border-radius: 10px;
        border: 1px solid #ccc;
        background-color: #e8eaf6; /* Light pastel text area */
    }
    #chatWindow {
        border: 1px solid #ccc;
        padding: 10px;
        margin-top: 20px;
        background-color: #ffffff; /* White background for chat window */
        border-radius: 10px;
    }
    .user-message, .assistant-message {
        padding: 10px;
        margin: 5px 0;
        border-radius: 20px;
        max-width: 80%;
    }
    .user-message {
        background-color: #b2dfdb; /* Light pastel user message */
        align-self: flex-end;
    }
    .assistant-message {
        background-color: #bbdefb; /* Light pastel assistant message */
        align-self: flex-start;
    }
</style>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Speech to Text Application</title>
</head>
<body>
    <h1>Speak to GPT-4</h1>
<button id="toggleMicrophone">Start Recording</button>
<div id="recordingStatus" style="color: red; display: none;">Recording...</div>
<textarea id="textInput" placeholder="Or type your message here" rows="10" cols="50"></textarea>
    <button id="sendText">Send</button>
    <div id="response"></div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        let isRecording = false;
        let mediaRecorder;
        let audioChunks = [];

<script>
    // Existing JavaScript code for handling the microphone toggle
    // Update the event listener for the toggleMicrophone button
document.getElementById('toggleMicrophone').addEventListener('click', function() {
    const recordingStatus = document.getElementById('recordingStatus');
    if (!isRecording) {
        // Start recording logic
document.getElementById('toggleMicrophone').innerText = 'Stop Recording';
        recordingStatus.innerHTML = 'ðŸ”´ Now Recording'; // Show recording status with red circle emoji
        recordingStatus.style.display = 'block';
        isRecording = true;
    } else {
        // Stop recording logic
document.getElementById('toggleMicrophone').innerText = 'Start Recording';
        recordingStatus.style.display = 'none';
        isRecording = false;
    }
});
</script>


        document.getElementById('sendText').addEventListener('click', function() {
            const textInput = document.getElementById('textInput').value;
            // Here you would send the textInput to the server for processing
            // and then display the response similarly to the transcribe response.
        });
    </script>
<div id="chatWindow" style="border: 1px solid #ccc; padding: 10px; margin-top: 20px;">
    <!-- Chat messages will be appended here -->
</div>
</html>
